{
  "authentication": {
    "blockUnknown": true,
    "class": "solr.BasicAuthPlugin",
    "credentials": {
      "{{ admin_user | default('admin') }}": "{{ admin_password_hash }}",
      "{{ support_user | default('support') }}": "{{ support_password_hash }}",
      "{{ customer_user | default('customer') }}": "{{ customer_password_hash }}"
    },
    "realm": "{{ solr_auth_realm | default('Solr Eledia') }}",
    "forwardCredentials": {{ solr_forward_credentials | default('false') | lower }}
  },
  "authorization": {
    "class": "solr.RuleBasedAuthorizationPlugin",
    "permissions": [
      {
        "name": "security-edit",
        "role": "admin"
      },
      {
        "name": "security-read",
        "role": "admin"
      },
      {
        "name": "schema-edit",
        "role": "admin"
      },
      {
        "name": "config-edit",
        "role": "admin"
      },
      {
        "name": "core-admin-edit",
        "role": "admin"
      },
      {
        "name": "collection-admin-edit",
        "role": "admin"
      },
      {
        "name": "collection-admin-read",
        "role": ["admin", "support"]
      },
      {
        "name": "update",
        "path": "/update/*",
        "collection": "*",
        "role": ["admin", "customer"]
      },
      {
        "name": "read",
        "path": "/select",
        "collection": "*",
        "role": ["admin", "support", "customer"]
      },
      {
        "name": "read",
        "path": "/get",
        "collection": "*",
        "role": ["admin", "support", "customer"]
      },
      {
        "name": "admin-ui",
        "path": "/admin/*",
        "role": "admin"
      },
      {
        "name": "all",
        "role": "admin"
      }
    ],
    "user-role": {
      "{{ admin_user | default('admin') }}": ["admin"],
      "{{ support_user | default('support') }}": ["support"],
      "{{ customer_user | default('customer') }}": ["customer"]
    }
  }
}
