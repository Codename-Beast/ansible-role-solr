{
  "authentication": {
    "blockUnknown": true,
    "class": "solr.BasicAuthPlugin",
    "credentials": {
      "{{ solr_admin_user | default('admin') }}": "{{ admin_password_hash }}",
      "{{ solr_support_user | default('support') }}": "{{ support_password_hash }}",
      "{{ solr_customer_user | default('customer') }}": "{{ customer_password_hash }}"
    },
    "realm": "{{ solr_auth_realm | default('Solr Eledia') }}",
    "forwardCredentials": {{ solr_forward_credentials | default('false') | lower }}
  },
  "authorization": {
    "class": "solr.RuleBasedAuthorizationPlugin",
    "permissions": [
      { "name": "security-read",          "role": "admin" },
      { "name": "security-edit",          "role": "admin" },
      { "name": "schema-edit",            "role": "admin" },
      { "name": "config-edit",            "role": "admin" },
      { "name": "collection-admin-edit",  "role": "admin" },
      { "name": "read",    "collection": "{{ solr_core_name }}", "role": ["admin", "support", "customer"] },
      { "name": "update",  "collection": "{{ solr_core_name }}", "role": ["admin", "customer"] }
    ],
    "user-role": {
      "{{ solr_admin_user | default('admin') }}":   ["admin"],
      "{{ solr_support_user | default('support') }}": ["support"],
      "{{ solr_customer_user | default('customer') }}":["customer"]
    }
  }
}
